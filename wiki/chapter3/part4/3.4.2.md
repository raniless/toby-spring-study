# 3.4.2 뷰 리졸버
- 뷰 리졸버는 핸들러 매핑이 URL로부터 컨트롤러를 찾아주는 것처럼, 뷰 이름으로부터 사용할 뷰 오브젝트를 찾아준다.
- 뷰 리졸버는 ViewResolver 인터페이스를 구현해서 만들어진다.
- 뷰 리졸버를 등록하지 않는다면 DispatcherServlet의 디폴트 뷰 리졸버인 InternalResourceViewResolver가 사용된다.
- 핸들러 매핑과 마찬가지로 뷰 리졸버도 하나 이상을 빈으로 등록해서 사용할 수 있다.
- 이때는 order 프로퍼티를 이용해 뷰 리졸버의 적용 순서를 지정해주는게 좋다.(값이 작을수록 우선순위가 높음)

## InternalResourceViewResolver
- 뷰 리졸버를 지정하지 않았을 때 자동 등록되는 디폴트 뷰 리졸버
- 주로 JSP를 뷰로 사용하고자 할 때 쓰인다.
- 테스트용으로 단순한 예제를 만드는 경우가 아니라면 디폴트로 등록된 상태의 사용은 피해야 한다.
- 디폴틔 상태로 사용할 경우, /WEB-INF/view/hello.jsp를 뷰로 이용하려면 전체 경로를 다 적어줘야 한다.
- 하지만 InternalResourceViewResolver의 prefix, suffix 프로퍼티를 이용해서 항상 앞뒤에 붙는 내용을 생략할 수 있다.
- 프로퍼티 설정을 위해서는 직접 빈으로 등록해줘야 한다.
  ```xml
  <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix" value="/WEB-INF/view" />
    <property name="suffix" value=".jsp" />
  </bean>
  ```
- 템플릿 파일을 사용하는 Velocity나 FreeMarker 뷰로 전환해도 컨트롤러 코드를 수정할 필요가 없다.
  Velocity에서는 뷰 리졸버의 suffix를 ".vm" 으로, FreeMarker의 경우는 ".flt"로 바꿔주기만 하면 된다.
- 뷰와 관련된 DispatcherServlet 전략 중에는 RequestToViewNameTranslator라는 것도 있다.
- 이 전략은 뷰 이름을 컨트롤러가 넘겨주지 않았을 때 URL을 이용해 자동으로 뷰 이름을 만들어준다.
- /admin/member.do라면 admin/member가 논리적인 뷰 이름이 된다.
  여기에 뷰 리졸버에서 지정한 prefix, suffix를 추가해 최종 뷰 이름을 만들 수 있다.(/WEB-INF/view/admin/member.jsp)
- 이를 잘 활용하면 URL이름에 일정한 규칙을 둬서 뷰와 자동으로 매핑시킬 수 있다.
- 코드보다는 관례를 우선한다는 요즘 유행하는 CoC(Convention Over Configuration) 스타일의 개발이 가능해진다.
- InternalResourceViewResolver는 JSTL 라이브러리가 클래스패스에 존재하면 JSTL의 부가기능을 지원하는 JstlView를 사용하고,
  존재하지 않으면 InternalResourceView를 사용한다.

## VelocityViewResolver, FreeMarkerViewResolver
- 템플릿 엔진 기반의 뷰인 VelocityView와 FreeMarkerView를 사용하게 해주는 뷰 리졸버다.
- 사용 방법은 InternalResourceViewResolver와 비슷하다.
- 컨트롤러가 돌려준 뷰 이름에 prefix와 suffix를 붙여서 실제 템플릿 파일 이름을 생성한다.
- 다만, JSP와는 다르게 템플릿의 경로를 만들 때 사용할 루트 패스를 미리 VelocityConfigurer나 FreeMarkerConfigurer로 지정해줘야 한다.
  그래서 prefix는 잘 사용하지 않는다.
  ```xml
  <bean id="velocityConfig" class="org.springframework.web.servlet.view.velocity.VelocityConfigurer">
    <property name="resourceLoaderPath" value="/WEB-INF/velocity/"
  </bean>
  
  <bean id="viewResolver" class="org.springframework.web.servlet.view.veloticy.VelocityViewResolber">
    <property name="suffix", value=".vm"
  </bean>
  ```
- 템플릿 엔진의 자세한 설정 방법과 뷰 리졸버에서 사용할 수 있는 프로퍼티는 각 웹사이트와 스프링의 API 문서 참고

## ResourceBundleViewResolver, XmlViewResolver, BeanNameViewResolver

## ContentNegotiatingViewResolver