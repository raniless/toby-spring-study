# 4.9.4 @EnableWebMvc와 WebMvcConfigurationSupport를 이용한 @MVC 설정
- 스프링 3.1의 최신 @MVC 전략을 사용하려면 XML 설정에 \<mvc:annotation-driven>을 넣거나 인프라 빈 설정용 애노테이션을 이용해 @MVC 빈이 등록되게 해야 한다.
- @MVC 디폴트 설정을 그대로 사용한다면 \<mvc:annotation-driven>으로 충분하겠지만 @MVC 전략과 관련된 설정을 넣으려면 mvc 네임스페이스의 전용 태그는 불편하다.
- 본격적으로 @MVC 기능을 활용하려면 이제부터 설명할 자바 코드를 이용한 @MVC 빈 등록 및 설정 방식을 사용하는 것이 좋다.

## @EnableWebMvc와 WebMvcConfigurer
- @Configuration 클래스에 @EnableWebMvc를 붙여주면 \<mvc:annotation-config>을 MVC에 넣었을 때와 동일하게 스프링 3.1의 최신 전략 빈이 등록 된다.
- 스프링은 @Enable 전용 애노테이션으로 등록되는 인프라 빈에 대한 추가 설정을 위해 설정용 빈을 활용하는 방법을 제공한다.
- 인프라 빈의 설정을 담당하는 기능을 가진 클래스를 만들어 빈으로 등록하면 @Enable 전용 애노테이션을 처리하는 단계에서 설정용 빈을 활용해 인프라 빈의 설정을 마무리한다.
- 이렇게 @Enable 전용 애노테이션의 설정을 위해 사용되는 빈을 설정자 또는 컨피규어러(configurer)라고 한다.
- 이런 빈들이 구현해야 할 인터페이스의 이름은 대부분 Configurer로 끝난다. 앞으로는 빈 설정자라고 부르겠다.
- @EnableWebMvc의 빈 설정자가 구현해야 할 인터페이스는 WebMvcConfigurer다.
- @EnableWebMvc에서 @Enable을 떼고 뒤에 Configurer를 붙인 이름이니 기억하기 쉬울 것이다.
- WebMvcConfigurer를 구현한 클래스를 만들어 빈으로 등록해주면 된다.
- WebMvcConfigurer의 메소드는 @MVC와 관련된 다양한 설정 옵션을 지정하거나 관련된 빈 또는 오브젝트를 추가하는 등의 작업을 수행할 수 있게 설계되어 있다.
- 다음은 WebMvcConfigurer 인터페이스다. (RELEASE 5.2.11 기준)
  ```java
  public interface WebMvcConfigurer {
    void configurePathMatch(PathMatchConfigurer configurer) {
    }

    default void configureContentNegotiation(ContentNegotiationConfigurer configurer) {
    }

    default void configureAsyncSupport(AsyncSupportConfigurer configurer) {
    }

    default void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {
    }

    default void addFormatters(FormatterRegistry registry) {
    }

    default void addInterceptors(InterceptorRegistry registry) {
    }

    default void addResourceHandlers(ResourceHandlerRegistry registry) {
    }

    default void addCorsMappings(CorsRegistry registry) {
    }

    default void addViewControllers(ViewControllerRegistry registry) {
    }

    default void configureViewResolvers(ViewResolverRegistry registry) {
    }

    default void addArgumentResolvers(List<HandlerMethodArgumentResolver> resolvers) {
    }

    default void addReturnValueHandlers(List<HandlerMethodReturnValueHandler> handlers) {
    }

    default void configureMessageConverters(List<HttpMessageConverter<?>> converters) {
    }

    default void extendMessageConverters(List<HttpMessageConverter<?>> converters) {
    }

    default void configureHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {
    }

    default void extendHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {
    }

    @Nullable
    default Validator getValidator() {
        return null;
    }

    @Nullable
    default MessageCodesResolver getMessageCodesResolver() {
        return null;
    }
  }
  ```
- WebMvcConfigurer의 메소드 이름은 대부분 add나 configurer로 시작한다.
  add로 시작하는 메소드는 레지스트리를 통해 빈이나 새로운 오브젝트를 추가하는 것이고, configure로 시작하는 것은 수정자 인터페이스를 이용해 설정 작업을 할 수 있는 메소드다.
- WebMvcConfigurer는 인터페이스니 모든 메소드를 구현해야 한다. 설정이 필요 없는 경우에는 메소드를 비워두면 된다.
- 사용하지 않는 메소드가 많아지는 것이 불편하다면 필요한 메소드만 오버라이딩해서 사용할 수 있게 만들어진 WebMvcConfigurerAdapter 클래스를 상속할 수도 있다.
- 각 메소드를 이용한 설정 기능은 어떤 것이고 어떻게 이용해야 하는지 살펴보자.
  ### addFormatters()
  ### configureMessageConverters()
  ### getValidator()
  ### addArgumentResolvers()
  ### addReturnValueHandlers()
  ### configureHandlerExceptionResolvers()
  ### addInterceptors()
  ### addViewControllers()
  ### addResourceHandlers()
  ### configureDefaultServletHandling()

## @MVC 설정자 빈 등록 방법

## @MVC 전략용 설정 빈 등록